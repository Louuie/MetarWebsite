{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Elias\\\\Documents\\\\Programming\\\\MetarWebsite\\\\frontend\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport Home from './components/Home/Home.tsx';\nimport Metar from './components/Airport/Metar.tsx';\nimport Login from './components/Login/Login.tsx';\nimport User from './components/User/User.tsx';\nimport { firebaseAuth } from './firebase';\nimport { useEffect, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport './App.css';\nimport Airport from './components/Airport/Airport.tsx';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport \"./spinner.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  let [auth, setAuth] = useState(false || window.localStorage.getItem('auth') === 'true');\n  let [token, setToken] = useState('');\n  useEffect(() => {\n    onAuthStateChanged(firebaseAuth, user => {\n      if (user) {\n        window.localStorage.setItem('auth', 'true');\n        setAuth(true);\n        user.getIdToken().then(token => setToken(token));\n      } else setAuth(false);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: auth ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/user\",\n          element: /*#__PURE__*/_jsxDEV(User, {\n            token: token\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/metar/:airport\",\n          element: /*#__PURE__*/_jsxDEV(Metar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/:airport\",\n          element: /*#__PURE__*/_jsxDEV(Airport, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }, this)\n      }, void 0, false)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"d0Evk6J05AU2oS2vaAK6xFX3pVU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Elias/Documents/Programming/MetarWebsite/frontend/src/App.tsx"],"names":["Home","Metar","Login","User","firebaseAuth","useEffect","useState","Routes","Route","Airport","onAuthStateChanged","App","auth","setAuth","window","localStorage","getItem","token","setToken","user","setItem","getIdToken","then"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,4BAAjB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,SAAQC,YAAR,QAA2B,YAA3B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAAQC,MAAR,EAAgBC,KAAhB,QAA6B,kBAA7B;AAEA,OAAO,WAAP;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,SAA8CC,kBAA9C,QAAwE,eAAxE;AACA,OAAO,eAAP;;;;AAGA,SAASC,GAAT,GAAe;AAAA;;AAEb,MAAI,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,SAASQ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,MAAwC,MAAlD,CAA9B;AACA,MAAI,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,kBAAkB,CAACN,YAAD,EAAgBe,IAAD,IAAU;AACzC,UAAGA,IAAH,EAAS;AACPL,QAAAA,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4B,MAA5B,EAAoC,MAApC;AACAP,QAAAA,OAAO,CAAC,IAAD,CAAP;AACAM,QAAAA,IAAI,CAACE,UAAL,GAAkBC,IAAlB,CAAuBL,KAAK,IAAIC,QAAQ,CAACD,KAAD,CAAxC;AACD,OAJD,MAIOJ,OAAO,CAAC,KAAD,CAAP;AACR,KANiB,CAAlB;AAOD,GARQ,CAAT;AAUA,sBACI,QAAC,MAAD;AAAA,2BACM;AAAA,gBACGD,IAAI,gBACH;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,OAAO,eAAE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAzB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,OAAO,eAAE,QAAC,IAAD;AAAM,YAAA,KAAK,EAAEK;AAAb;AAAA;AAAA;AAAA;AAAA;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,iBAAZ;AAA8B,UAAA,OAAO,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAvC;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,WAAZ;AAAwB,UAAA,OAAO,eAAE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAjC;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA,sBADG,gBAQH;AAAA,+BACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,OAAO,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AATJ;AADN;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBD;;GAjCQN,G;;KAAAA,G;AAmCT,eAAeA,GAAf","sourcesContent":["import Home from './components/Home/Home.tsx';\r\nimport Metar from './components/Airport/Metar.tsx'\r\nimport Login from './components/Login/Login.tsx'\r\nimport User from './components/User/User.tsx';\r\nimport {firebaseAuth} from './firebase';\r\nimport { useEffect, useState } from 'react';\r\nimport {Routes, Route } from 'react-router-dom';\r\nimport env from \"dotenv\";\r\nimport './App.css';\r\nimport Airport from './components/Airport/Airport.tsx';\r\nimport { GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from 'firebase/auth';\r\nimport \"./spinner.css\";\r\n\r\n\r\nfunction App() {\r\n\r\n  let [auth, setAuth] = useState(false || window.localStorage.getItem('auth') === 'true');\r\n  let [token, setToken] = useState('');\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(firebaseAuth, (user) => {\r\n      if(user) {\r\n        window.localStorage.setItem('auth', 'true');\r\n        setAuth(true);\r\n        user.getIdToken().then(token => setToken(token));\r\n      } else setAuth(false);\r\n    })\r\n  });\r\n\r\n  return (\r\n      <Routes>\r\n            <>\r\n              {auth ? (\r\n                <>\r\n                  <Route path=\"/\" element={<Home />} />\r\n                  <Route path=\"/user\" element={<User token={token}/>} />\r\n                  <Route path=\"/metar/:airport\" element={<Metar />} />\r\n                  <Route path=\"/:airport\" element={<Airport />} />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Route path=\"/login\" element={<Login />} />\r\n                </>\r\n              )}\r\n            </>\r\n      </Routes>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}